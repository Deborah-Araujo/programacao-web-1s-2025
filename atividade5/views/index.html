<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Template</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    
</head>
<body>
    <div class="container">
        <div class = "row">
            <div class="col-12 text-center mt-3">
                <h1>Agendamento</h1>
            </div>
            <div class="col-12 mt-3">
                <!--VARIAVEL BOOLEANA - pra se erroform for verdadeiro, mostrar o alerta, por isso bom usar renderizador, podemos recuperar valores de variaveis-->
                {{#erro_form}} 
                <div class="alert alert-warning mt-2">
                    <strong>Formulário</strong> inválido! Preencha todos os campos.
                </div>
                {{/erro_form}}

                {{#campos_invalidos}}
                <div class="alert alert-warning mt-2">
                    <!--{{.}} serve pra mostrar o nome da variavel, nesse caso no pop-up-->
                    <strong>{{.}}</strong> inválido! Não pode ser vazio.
                </div>
                {{/campos_invalidos}}

                {{#mensagens_erro_data}}
                <div class="alert alert-warning mt-2">
                    <!--{{.}} serve pra mostrar o nome da variavel, nesse caso no pop-up-->
                    <strong>{{.}}</strong> inválido! Favor marcar consultas com 1 dia de antecedência.
                </div>
                {{/mensagens_erro_data}}

            </div>
        </div>

        <!--mudei o metodo de GET pra POST pra nao aparecer as informações do forms no link da aplicação-->
        <form action = "/agendar_consulta" method = "POST">
            <div class = "row mt-3">
                <h3>Dados do Paciente</h3>

                <div class = "col-6 mt-1">
                    <label for = "nome" class="form-label">Nome:</label>
                    <input type = "text" class = "form-control" name = "nome" id = "nome" value="{{dados_consulta.nome}}">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "sobrenome" class="form-label">Sobrenome:</label> <!--entre chaves duplas pq vai ser renderizado pelo mustache-->
                    <input type = "text" class = "form-control" name = "sobrenome" id = "sobrenome" value="{{dados_consulta.sobrenome}}">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "cpf" class="form-label">Cpf:</label>
                    <input type = "text" class = "form-control" name = "cpf" id = "cpf" value="{{dados_consulta.cpf}}">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "data_nascimento" class="form-label">Data de Nascimento:</label>
                    <input type = "date" class = "form-control" name = "data_nascimento" id = "data_nascimento">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "telefone" class="form-label">Telefone:</label>
                    <input type = "text" class = "form-control" name = "telefone" id = "telefone">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "cep" class="form-label">Cep:</label>
                    <input type = "text" class = "form-control" name = "cep" id = "cep">
                </div>

                <div class = "col-12 mt-1">
                    <label for = "endereco" class="form-label">Endereço:</label>
                    <input type = "text" class = "form-control" name = "endereco" id = "endereco">
                </div>
            </div>

            <div class="row mt-3">
                <h3>Dados da Consulta</h3>

                <div class="col-6 mt-1">
                    <label for = "clinica" class = "form-label">Clinica:</label>
                    <select name = "clinica" id = "clinica" class = "form-select">
                        <option selected>Clique para escolher</option>
                        <option value = "Clínica Brasília">Clínica Brasília</option>
                        <option value = "Clínica Taguatinga">Clínica Taguatinga</option>
                        <option value = "Clínica Ceilândia">Clínica Ceilândia</option>
                    </select>
                </div>

                <div class="col-6 mt-1">
                    <label for = "especialidade" class = "form-label">Especialidade:</label>
                    <select name = "especialidade" id = "especialidade" class = "form-select">
                        <option selected>Clique para escolher</option>
                        <option value = "Ortopedia">Ortopedia</option>
                        <option value = "Cardiologia">Cardiologia</option>
                        <option value = "Pediatria">Pediatria</option>
                    </select>
                </div>

                <div class = "col-6 mt-1">
                    <label for = "data_consulta" class="form-label">Data da Consulta:</label>
                    <input type = "date" class = "form-control" name = "data_consulta" id = "data_consulta">
                </div>

                <div class = "col-6 mt-1">
                    <label for = "hora_consulta" class="form-label">Hora da Consulta:</label>
                    <input type = "time" class = "form-control" name = "hora_consulta" id = "hora_consulta">
                </div>

                <div class="col-12 mt-1">
                    <label for = "observacao" class = "form-label">Observação:</label>
                    <textarea class="form-control" id = "observacao" name = "observacao" rows = "3"></textarea>
                </div>
            </div>

            <div class="row">
                <div class="col-12 mt-3 mb-3">
                    <button type = "submit" class = "btn btn-primary w-100">Enviar</button>
                </div>
            </div>
        </form>
    </div>

    
</body>
</html>